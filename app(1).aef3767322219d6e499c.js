(()=>{"use strict";var e,t={9702:(e,t,n)=>{n(8183);var i=n(3313);const o=window.ReactDOM;n(8995),n(425);function r(...e){return fetch(...e).then((e=>{if(!e.ok)throw new Error;return e}))}const s=window&&window.Rollbar||window.console;function a(){return r("/api/v1/qa-widget/user-state/",{method:"GET",credentials:"same-origin"}).then((e=>e.json())).then((e=>e.error?(s.error("Error getting QA widget user state: ",e.error.message),null):e))}function d(e){return r("/api/v1/qa-widget/set-minimized/",{headers:{"Content-Type":"application/json"},body:JSON.stringify({isWidgetMinimized:e}),method:"POST",credentials:"same-origin"})}var l=n(4403),u=n.n(l),c=n(9317);n(2963);let m;!function(e){e.LOGGED_OUT="Logged out",e.BASIC="Basic",e.PREMIER="Premier"}(m||(m={}));const f="Answers in as fast as 15-30 minutes",w="Get Homework Help",g=(e,t)=>e!==m.LOGGED_OUT||t?"QNA":"Gift",h=(e,t,n)=>{const i=[];return i.push(e),t&&i.push("free"),1===e?i.push("question"):i.push("questions"),n&&(1===e?i.push("expires"):i.push("expire")),i.join(" ")},p=e=>{const t=(new Date).getTime()+e;return new Date(t).toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0})},E=e=>e<=1?"today":e<=7?"this week":e<=30?"this month":`in ${e} days`;n(6650);let T;!function(e){e[e.REST=0]="REST",e[e.PREP=1]="PREP",e[e.RUN=2]="RUN",e[e.HOLD=3]="HOLD",e[e.RETURN=4]="RETURN"}(T||(T={}));var v=n(2792);const R=()=>{},y=(e,t)=>{var n,i;((...e)=>{e.forEach((e=>e.style.transformOrigin="0 0"))})(t.element),n=t.element,i={transform:`translate(${e.offsetLeft-t.offsetLeft}px, ${e.offsetTop-t.offsetTop}px) scale(${e.width/t.width}, ${e.height/t.height})`,borderRadius:`${e.borderRadius}`},(0,v.Z)(i,((e,t)=>{n.style[t]=e}))},b=(...e)=>{e.forEach((e=>{e.style.transform="",e.style.borderRadius=""}))},A=e=>{var t,n,o,r,s,a,d,l,u;const[c,m]=i.useState(T.REST);var f;"to"in e||(f={id:e.id,from:e.from,setFromVisible:e.setFromVisible,fromBorderRadius:e.fromBorderRadius},window.magicTransform||(window.magicTransform={}),window.magicTransform[f.id]||(window.magicTransform[f.id]={}),window.magicTransform[f.id].from=f.from,window.magicTransform[f.id].setFromVisibility=f.setFromVisible,window.magicTransform[f.id].fromBorderRadius=f.fromBorderRadius);const w="from"in e?null!=(t=e.from.current)?t:null:null!=(n=null==(o=window.magicTransform)||null==(r=o[e.id].from)?void 0:r.current)?n:null,g="setFromVisible"in e?e.setFromVisible:null!=(s=null==(a=window.magicTransform)?void 0:a[e.id].setFromVisibility)?s:null,h="fromBorderRadius"in e?e.fromBorderRadius:null!=(d=null==(l=window.magicTransform)?void 0:l[e.id].fromBorderRadius)?d:null,p="to"in e&&null!=(u=e.to.current)?u:null,E="doTransform"in e,v="doTransform"in e&&e.doTransform,A="transitionTime"in e?e.transitionTime:0,O="setToVisible"in e?e.setToVisible:null,x="toBorderRadius"in e?e.toBorderRadius:null,_="setIsToTransformingIn"in e?e.setIsToTransformingIn:R;i.useEffect((()=>{if(!E||!p||!x)return;if(!w||!h)return v&&(_(!0),setTimeout((()=>_(!1)),A)),void(null==O||O(v));const e=((e,t,n,i)=>{const o=(e,t)=>e instanceof HTMLElement?o(e.offsetParent,t)+e[t]:0;return{from:{element:e,height:e.offsetHeight,width:e.offsetWidth,offsetLeft:o(e,"offsetLeft"),offsetTop:o(e,"offsetTop"),borderRadius:n},to:{element:t,height:t.offsetHeight,width:t.offsetWidth,offsetLeft:o(t,"offsetLeft"),offsetTop:o(t,"offsetTop"),borderRadius:i}}})(w,p,h,x),t=e=>{e.target===p&&(_(!1),p.removeEventListener("transitionend",t),p.removeEventListener("transitioncancel",t))};switch(c){case T.REST:return void(v&&(null==g||g(!1),m(T.PREP)));case T.PREP:return void window.requestAnimationFrame((()=>{y(e.from,e.to),window.requestAnimationFrame((()=>{m(T.RUN)}))}));case T.RUN:return void window.requestAnimationFrame((()=>{((e,...t)=>{t.forEach((t=>t.style.transition=`border-radius ${e}ms linear, transform ${e}ms linear`))})(A,e.from.element,e.to.element),y(e.to,e.from),b(e.to.element),null==O||O(!0),_(!0),m(T.HOLD),p.addEventListener("transitionend",t),p.addEventListener("transitioncancel",t)}));case T.HOLD:return void(v||m(T.RETURN));case T.RETURN:return void window.requestAnimationFrame((()=>{b(e.from.element),null==g||g(!0),y(e.from,e.to),null==O||O(!1),setTimeout((()=>{((...e)=>{((...e)=>{e.forEach((e=>e.style.transformOrigin=""))})(...e),b(...e),((...e)=>{e.forEach((e=>e.style.transition=""))})(...e)})(e.from.element,e.to.element),m(T.REST)}),A)}))}}),[E,v,A,c,w,p,O,g,_,h,x])},O=(e,t)=>{const[n,o]=i.useState(!1),r=((e,t={})=>{const[n,o]=i.useState(!1);return i.useEffect((()=>{var n;const i=new IntersectionObserver((([e])=>{o(e.isIntersecting)}),t),r=e instanceof Element?e:null!=(n=null==e?void 0:e.current)?n:null;return r&&i.observe(r),()=>{r&&i.unobserve(r)}}),[e,t]),n})(e),s=(e=>{const t=i.useRef();return i.useEffect((()=>{t.current=e})),t.current})(r);i.useEffect((()=>{r!==s&&(r?(o(!0),t(r)):n&&t(r))}),[r,s,n,t])};n(2321),n(3819);var x;!function(e){e.Normal="normal",e.Private="private",e.Unknown="unknown"}(x||(x={}));const _=e=>{const t=e+"=",n=document.cookie.split(";");for(let e=0;e<n.length;e++){let i=n[e];for(;" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(t))return i.substring(t.length,i.length)}return null},L=e=>{const[t,n]=i.useState({});return i.useEffect((()=>{const t=()=>{const t=e&&"true"!==_("has_closed_cro1657_privacy_banner"),i=null!=(o=null==(r=document.querySelector(".ch-header_banner_wrapper"))?void 0:r.clientHeight)?o:0;var o,r;n(t&&i?{bottom:`${i+24}px`}:{})};return t(),window.addEventListener("SITEWIDE-FOOTER:RENDER-FOOTER",t),()=>window.removeEventListener("SITEWIDE-FOOTER:RENDER-FOOTER",t)}),[e]),t},S="default";function Q(e=S){return window.CHAnalytics.v(e)}var C=n(3956);const N=({destinationURL:e,...t})=>{(0,C.trackCustomEvent)("CTA Clicked",t)},q=e=>{var t;window.FS?window.FS.event(e.eventName,null!=(t=e.eventProperties)?t:{}):e.hasRetried||setTimeout((()=>q({...e,hasRetried:!0})),3e3)},I={},k=e=>{window._chEditorJS?Promise.all(window._chEditorJS.map((e=>{return void 0!==I[t=e]?I[t]:I[t]=new Promise(((e,n)=>{const i=document.createElement("script");i.src=t,i.async=!0,i.onerror=e=>{n(e)},i.onload=()=>{e()},document.body.appendChild(i)}));var t}))).then((()=>{null==e||e()})).catch((e=>{s.error("Failed to load CK Editor script for AAQ widget",e)})):null==e||e()},W=JSON.parse('{"Y":"ObtÃ©n ayuda con tareas","V":"Respuestas en tan solo 15-30 minutos"}'),P="ch-aaq-widget-wrapper-emcZw",D="ch-aaq-widget-mrG0g",F="mixin-ch-aaq-widget-left-UOBPj",U="animate-in-dBo3R",M="hide-modal-content-HGGiI",B="show-for-scroll-Ym0zE",G="hide-for-scroll-OArzr",z="widget-container-pvP21",$="minimized-Hsz8y",H="qna-QfUDr",V="widget-icon-gvlEo",j="gift-Y_jBN",Y="widget-circle-_1hfl",J="widget-right-side-iPXyo",K="widget-msg-lPfzI",X="question-count-Wkpi8",Z="question-credit-status-BXiYy",ee="widget-toggle-KmQc9",te="show-modal-content-DKDap",ne=Q(),ie="AAQ-WIDGET:TRIGGER-EXPAND-WIDGET",oe=({sitewideFooterEnabled:e,isI18nMx:t,...n})=>{const[o,r]=i.useState(void 0===n.isWidgetMinimized||n.isWidgetMinimized),l=i.useRef(!1),[c,T]=i.useState(void 0===n.isWidgetMinimized),[v,R]=i.useState(n.userState),[y,b]=i.useState(n.userQuestionCredit),[x,_]=i.useState("initial"),S=L(e),Q=document.querySelector('button[aria-label="Click to ask your question"]'),{shouldLazyLoadAETModal:I=!1}=window._INITIAL_DATA_;i.useEffect((()=>{setTimeout((()=>{Q||_("animate-in")}),500)}),[Q]);const z=((e,t,n)=>{const{hasBonusQuestions:i,bonusQuestions:o,hasTutorQuestions:r,tutorQuestions:s}=n;if(e===m.LOGGED_OUT)return t?w:"Ask 5 Free Questions";if(i||r){const e=i?s.totalTutorQuestionsCount+o.bonusQuestionsCount:s.totalTutorQuestionsCount;return`${h(e,!1,!1)} left to ask`}return w})(v,n.isROWUser,y),$=t?W.Y:z,H=((e,t,n)=>{const{hasBonusQuestions:i,bonusQuestions:o,hasTutorQuestions:r,tutorQuestions:s}=n;return e===m.LOGGED_OUT?t?f:"Limited time only!":i?"three_hour_daily_bonus"===o.rewardType?`${h(o.earliestExpiringQuestionsCount,!0,!0)} at ${p(o.timeRemaining)}`:`${h(o.earliestExpiringQuestionsCount,!0,!0)} today`:r&&s.daysUntilExpiration<=30?`${h(s.expiringQuestions,e===m.BASIC,!0)} ${E(s.daysUntilExpiration)}`:f})(v,n.isROWUser,y),V=t?W.V:H;O(document.getElementById("ch-footer-copyright"),(e=>_(e?"hide-for-scroll":"show-for-scroll"))),O(Q,(e=>_(e?"hide-for-scroll":"show-for-scroll")));const j=async()=>{try{if(!l.current&&I){l.current=!0;const e=await fetch("/_template/ask-expert-tutors/app/");if(document.getElementById("qa-widget-lazy-load-placeholder")){const t=await e.text(),n=(new DOMParser).parseFromString(t,"text/html").body.children;for(let e=0;e<n.length;e++){const t=n[e];if("SCRIPT"===t.tagName||"LINK"===t.tagName){const e=document.createElement(t.tagName.toLowerCase());Array.from(t.attributes).forEach((n=>{const i=n.name;let o=n.value;"LINK"===t.tagName&&"media"===n.name&&(o="screen"),e.setAttribute(i,o)})),t.textContent&&(e.textContent=t.textContent),"LINK"===t.tagName&&document.head.appendChild(e),"SCRIPT"===t.tagName&&document.body.appendChild(e)}else document.body.appendChild(n[e].cloneNode(!0))}}}}catch(e){s.error("Ask Expert Tutor Lazy Load Error:",e)}};i.useEffect((()=>{const e=async()=>{c&&(await j(),r(!1),T(!1),d(!1),C.trackElementFocused({containerType:C.ContainerType.FLOATING_PROMPT,text:"Widget icon",intent:"Auto-expand AAQ widget"}),ne.interaction({interactionType:"auto_expand",interactionTarget:"aaq_widget",interactionLocation:"bottom_left",action:"expand_aaq_widget",actionTargetType:"aaq_widget",actionTargetId:"ch-aaq-widget-app"}))};return window.addEventListener("scroll",e,{once:!0}),window.addEventListener(ie,e),()=>{window.removeEventListener("scroll",e),window.removeEventListener(ie,e)}}),[c]);const Y=()=>{a().then((e=>{R(e.userState),null!=e&&e.userQuestionCredit&&b(e.userQuestionCredit)}))};i.useEffect((()=>(window.addEventListener("AAQ-WIDGET:REFRESH-USER-STATE",Y),()=>{window.removeEventListener("AAQ-WIDGET:REFRESH-USER-STATE",Y)})),[]);const J=i.useRef(null);A({from:J,id:"AAQ_WIDGET_TO_MODAL",setFromVisible:e=>_(e?"hide-modal-content":"show-modal-content"),fromBorderRadius:"40px"});const K=async()=>{const e=!o;await j(),r(e),d(e),N({actionType:C.ActionType.SECONDARY,text:""+(e?"Close button":"Widget icon"),intent:""+(e?"Minimize AAQ widget":"Expand AAQ widget"),xpath:"AAQ Widget"}),ne.interaction({interactionType:"click",interactionTarget:""+(e?"aaq_widget_close_btn":"aaq_widget_icon"),interactionLocation:"bottom_left",action:""+(e?"minimize_aaq_widget":"expand_aaq_widget"),actionTargetType:"aaq_widget",actionTargetId:"ch-aaq-widget-app"})},X=i.useCallback((()=>{window.openAskExpertTutorsWorkflow({sourceApp:"Ask Expert Tutors Widget"}),N({actionType:C.ActionType.PRIMARY,text:`${z} | ${H}`,intent:"Open Ask Expert Tutors Workflow Modal",xpath:"AAQ Widget"}),ne.interaction({interactionType:"click",interactionTarget:"aaq_widget",interactionLocation:"bottom_left",action:"ask_question",actionTargetType:"question",actionTargetId:"new_question"}),q({eventName:"open-aaq-modal"})}),[z,H]);i.useEffect((()=>{const e=(t="/tutors/homework-help/",window.location.pathname.includes(t));var t;const n=(i="questionText",!!new URLSearchParams(window.location.search).get(i));var i;e&&n&&k(X)}),[X]);const Z=()=>{o?K():X()};return i.createElement("div",{className:u()(P,{[U]:"initial"!==x,[G]:"hide-for-scroll"===x,[B]:"show-for-scroll"===x,[M]:"hide-modal-content"===x,[te]:"show-modal-content"===x}),role:"region","aria-label":"ask Q and A"},i.createElement("div",{className:u()(D,F),onClick:()=>k(Z),style:S},i.createElement(re,{icon:g(v,n.isROWUser),isWidgetMinimized:o,ref:J,questionCountMsg:$,questionCreditStatusMsg:V,toggleWidget:K})))},re=i.forwardRef((({icon:e,isWidgetMinimized:t,questionCountMsg:n,questionCreditStatusMsg:o,toggleWidget:r},s)=>i.createElement("div",{className:u()(z,{[$]:t,[j]:"Gift"===e,[H]:"QNA"===e}),ref:s},i.createElement("div",{className:Y}),i.createElement("div",{className:V}),i.createElement("div",{className:J},i.createElement("div",{className:K},i.createElement("div",{className:X},n),i.createElement("div",{className:Z},o)),i.createElement("div",{className:ee,onClick:e=>{e.stopPropagation(),r()}},i.createElement(c.Z,{height:16})))))),se=document.getElementById("ch-aaq-widget-app");se&&a().then((e=>{var t;const{isI18nMx:n}=e,r=null!=(t=null==e?void 0:e.userQuestionCredit)?t:{hasBonusQuestions:!1,bonusQuestions:{bonusQuestionsCount:0,daysUntilExpiration:0,earliestExpiringQuestionsCount:0,earliestExpiringEndDate:"",rewardType:"",timeRemaining:0},hasTutorQuestions:!1,tutorQuestions:{daysUntilExpiration:0,expirationDate:"",expiringQuestions:0,totalTutorQuestionsCount:0}},s=!window.location.pathname.includes("/u/file/")&&window.location.pathname.includes("/file/"),a=window.location.pathname.includes("/dashboard");o.render(i.createElement(oe,{isWidgetMinimized:e.isWidgetMinimized,userState:e.userState,isROWUser:e.isROWUser,userQuestionCredit:r,sitewideFooterEnabled:e.sitewideFooterEnabled,isI18nMx:(s||a)&&n}),se)})).catch((e=>{console.error(e)}))},3313:e=>{e.exports=window.React}},n={};function i(e){var o=n[e];if(void 0!==o)return o.exports;var r=n[e]={exports:{}};return t[e].call(r.exports,r,r.exports,i),r.exports}i.m=t,e=[],i.O=(t,n,o,r)=>{if(!n){var s=1/0;for(u=0;u<e.length;u++){for(var[n,o,r]=e[u],a=!0,d=0;d<n.length;d++)(!1&r||s>=r)&&Object.keys(i.O).every((e=>i.O[e](n[d])))?n.splice(d--,1):(a=!1,r<s&&(s=r));if(a){e.splice(u--,1);var l=o();void 0!==l&&(t=l)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[n,o,r]},i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={853:0};i.O.j=t=>0===e[t];var t=(t,n)=>{var o,r,[s,a,d]=n,l=0;if(s.some((t=>0!==e[t]))){for(o in a)i.o(a,o)&&(i.m[o]=a[o]);if(d)var u=d(i)}for(t&&t(n);l<s.length;l++)r=s[l],i.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return i.O(u)},n=self.webpackJsonpaaqwidget=self.webpackJsonpaaqwidget||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var o=i.O(void 0,[976],(()=>i(9702)));o=i.O(o)})();
//# sourceMappingURL=app.aef3767322219d6e499c.js.map