(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},t={};e.d(t,{default:()=>W});const r=Symbol(),n=Symbol(),o="a",s="w";const c=Object.getPrototypeOf,a=new WeakMap,l=e=>e&&(a.has(e)?a.get(e):c(e)===Object.prototype||c(e)===Array.prototype),f=e=>"object"==typeof e&&null!==e,i=e=>{if(Array.isArray(e))return Array.from(e);const t=Object.getOwnPropertyDescriptors(e);return Object.values(t).forEach((e=>{e.configurable=!0})),Object.create(c(e),t)},u=e=>e[n]||e,p=(e,t,c,a)=>{if(!l(e))return e;let f=a&&a.get(e);if(!f){const t=u(e);f=(e=>Object.values(Object.getOwnPropertyDescriptors(e)).some((e=>!e.configurable&&!e.writable)))(t)?[t,i(t)]:[t],null==a||a.set(e,f)}const[y,w]=f;let g=c&&c.get(y);return g&&g[1].f===!!w||(g=((e,t)=>{const c={f:t};let a=!1;const l=(t,r)=>{if(!a){let n=c[o].get(e);if(n||(n={},c[o].set(e,n)),t===s)n[s]=!0;else{let e=n[t];e||(e=new Set,n[t]=e),e.add(r)}}},f={get:(t,r)=>r===n?e:(l("k",r),p(Reflect.get(t,r),c[o],c.c,c.t)),has:(t,n)=>n===r?(a=!0,c[o].delete(e),!0):(l("h",n),Reflect.has(t,n)),getOwnPropertyDescriptor:(e,t)=>(l("o",t),Reflect.getOwnPropertyDescriptor(e,t)),ownKeys:e=>(l(s),Reflect.ownKeys(e))};return t&&(f.set=f.deleteProperty=()=>!1),[f,c]})(y,!!w),g[1].p=((e,t)=>new Proxy(e,t))(w||y,g[0]),c&&c.set(y,g)),g[1][o]=t,g[1].c=c,g[1].t=a,g[1].p},y=(e,t,r,n,o=Object.is)=>{if(o(e,t))return!1;if(!f(e)||!f(t))return!0;const c=r.get(u(e));if(!c)return!0;if(n){const r=n.get(e);if(r&&r.n===t)return r.g;n.set(e,{n:t,g:!1})}let a=null;try{for(const r of c.h||[])if(a=Reflect.has(e,r)!==Reflect.has(t,r),a)return a;if(!0===c[s]){if(a=((e,t)=>{const r=Reflect.ownKeys(e),n=Reflect.ownKeys(t);return r.length!==n.length||r.some(((e,t)=>e!==n[t]))})(e,t),a)return a}else for(const r of c.o||[]){if(a=!!Reflect.getOwnPropertyDescriptor(e,r)!==!!Reflect.getOwnPropertyDescriptor(t,r),a)return a}for(const s of c.k||[])if(a=y(e[s],t[s],r,n,o),a)return a;return null===a&&(a=!0),a}finally{n&&n.set(e,{n:t,g:a})}},w=(e,t=!0)=>{a.set(e,t)},g=e=>"object"==typeof e&&null!==e,h=new WeakMap,b=new WeakSet,d=new WeakMap,O=[1,1],P=new WeakMap;let j=Object.is,v=(e,t)=>new Proxy(e,t),R=e=>g(e)&&!b.has(e)&&(Array.isArray(e)||!(Symbol.iterator in e))&&!(e instanceof WeakMap)&&!(e instanceof WeakSet)&&!(e instanceof Error)&&!(e instanceof Number)&&!(e instanceof Date)&&!(e instanceof String)&&!(e instanceof RegExp)&&!(e instanceof ArrayBuffer)&&!(e instanceof Promise),k=(e,t)=>{const r=d.get(e);if((null==r?void 0:r[0])===t)return r[1];const n=Array.isArray(e)?[]:Object.create(Object.getPrototypeOf(e));return w(n,!0),d.set(e,[t,n]),Reflect.ownKeys(e).forEach((t=>{if(Object.getOwnPropertyDescriptor(n,t))return;const r=Reflect.get(e,t),{enumerable:o}=Reflect.getOwnPropertyDescriptor(e,t),s={value:r,enumerable:o,configurable:!0};if(b.has(r))w(r,!1);else if(h.has(r)){const[e,t]=h.get(r);s.value=k(e,t())}Object.defineProperty(n,t,s)})),Object.preventExtensions(n)},E=(e,t,r,o)=>({deleteProperty(e,t){const n=Reflect.get(e,t);r(t);const s=Reflect.deleteProperty(e,t);return s&&o(["delete",[t],n]),s},set(s,c,a,f){const i=!e()&&Reflect.has(s,c),u=Reflect.get(s,c,f);if(i&&(j(u,a)||P.has(a)&&j(u,P.get(a))))return!0;var p;r(c),g(a)&&(a=l(p=a)&&p[n]||a);const y=!h.has(a)&&R(a)?S(a):a;return t(c,y),Reflect.set(s,c,y,f),o(["set",[c],a,u]),!0}});function S(e={}){if(!g(e))throw new Error("object required");const t=P.get(e);if(t)return t;let r=O[0];const n=new Set,o=(e,t=++O[0])=>{r!==t&&(r=t,n.forEach((r=>r(e,t))))};let s=O[1];const c=e=>(t,r)=>{const n=[...t];n[1]=[e,...n[1]],o(n,r)},a=new Map;let l=!0;const f=E((()=>l),((e,t)=>{const r=!b.has(t)&&h.get(t);if(r){if(a.has(e))throw new Error("prop listener already exists");if(n.size){const t=r[2](c(e));a.set(e,[r,t])}else a.set(e,[r])}}),(e=>{var t;const r=a.get(e);r&&(a.delete(e),null==(t=r[1])||t.call(r))}),o),i=v(e,f);P.set(e,i);const u=[e,(e=++O[1])=>(s===e||n.size||(s=e,a.forEach((([t])=>{const n=t[1](e);n>r&&(r=n)}))),r),e=>(n.add(e),1===n.size&&a.forEach((([e,t],r)=>{if(t)throw new Error("remove already exists");const n=e[2](c(r));a.set(r,[e,n])})),()=>{n.delete(e),0===n.size&&a.forEach((([e,t],r)=>{t&&(t(),a.set(r,[e]))}))})];return h.set(i,u),Reflect.ownKeys(e).forEach((t=>{const r=Object.getOwnPropertyDescriptor(e,t);"value"in r&&r.writable&&(i[t]=e[t])})),l=!1,i}function m(e,t,r){const n=h.get(e);let o;n||console.warn("Please use proxy object");const s=[],c=n[2];let a=!1;const l=c((e=>{s.push(e),r?t(s.splice(0)):o||(o=Promise.resolve().then((()=>{o=void 0,a&&t(s.splice(0))})))}));return a=!0,()=>{a=!1,l()}}function x(e){const t=h.get(e);t||console.warn("Please use proxy object");const[r,n]=t;return k(r,n())}const M=window.React,D=new WeakMap,W={getVersion:function(e){const t=h.get(e);return null==t?void 0:t[1]()},proxy:S,ref:function(e){return b.add(e),e},snapshot:x,subscribe:m,unstable_getInternalStates:()=>({proxyStateMap:h,refSet:b,snapCache:d,versionHolder:O,proxyCache:P}),unstable_replaceInternalFunction:function(e,t){switch(e){case"objectIs":j=t(j);break;case"newProxy":v=t(v);break;case"canProxy":R=t(R);break;case"createSnapshot":k=t(k);break;case"createHandler":E=t(E);break;default:throw new Error("unknown function")}},useSnapshot:function(e,t){const r=null==t?void 0:t.sync,n=(0,M.useMemo)((()=>e&&new WeakMap),[e]),o=(0,M.useRef)();let c=!0;const a=(0,M.useSyncExternalStore)((0,M.useCallback)((t=>{const n=m(e,t,r);return t(),n}),[e,r]),(()=>{const t=x(e);try{if(!c&&o.current&&!y(o.current,t,n,new WeakMap))return o.current}catch(e){}return t}),(()=>x(e)));c=!1,(0,M.useLayoutEffect)((()=>{o.current=a})),((e,t)=>{const r=(0,M.useRef)();(0,M.useEffect)((()=>{r.current=((e,t,r)=>{const n=[],o=new WeakSet,c=(e,r)=>{var a,l,i;if(o.has(e))return;f(e)&&o.add(e);const p=f(e)&&t.get(u(e));if(p){if(null===(a=p.h)||void 0===a||a.forEach((e=>{const t=`:has(${String(e)})`;n.push(r?[...r,t]:[t])})),!0===p[s]){const e=":ownKeys";n.push(r?[...r,e]:[e])}else null===(l=p.o)||void 0===l||l.forEach((e=>{const t=`:hasOwn(${String(e)})`;n.push(r?[...r,t]:[t])}));null===(i=p.k)||void 0===i||i.forEach((t=>{!("value"in(Object.getOwnPropertyDescriptor(e,t)||{}))||c(e[t],r?[...r,t]:[t])}))}else r&&n.push(r)};return c(e),n})(e,t)})),(0,M.useDebugValue)(r.current)})(a,n);const l=(0,M.useMemo)((()=>new WeakMap),[]);return p(a,n,l,D)}};window.valtio=t.default})();
//# sourceMappingURL=valtio.min.js.map